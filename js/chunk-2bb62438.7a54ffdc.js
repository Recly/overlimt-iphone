(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bb62438"],{"3ab6":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recent calls-fixed-height"},[s("div",{staticClass:"header"},[s("div",{staticClass:"nav"},[s("div",{staticClass:"switch-calls"},t._l(t.switchCalls,(function(e,n){return s("button",{staticClass:"switch-calls__button",class:{"switch-calls__button_selected":e.selected},on:{click:function(e){return t.switchOptions(n)}}},[t._v(t._s(e.option))])})),0),s("button",{staticClass:"nav__option",on:{click:t.edit}},[t._v(t._s(t.editor?"Готово":"Править"))])]),s("h1",{staticClass:"header__title"},[t._v("Недавние")])]),s("RecentItem",{attrs:{isEdit:t.editor,filtered:t.filtered}})],1)},i=[],c=(s("d81d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recent-history"},[t.recentList.length?t._l(t.recentList,(function(e,n){return s("div",{staticClass:"recent-item"},[t.isEdit?s("button",{staticClass:"calls__delete",on:{click:function(s){return t.deleteRecent(e)}}}):t._e(),s("router-link",{staticClass:"recent-data",attrs:{to:{name:"ContactInfo",params:{phone:e.number}}}},[s("div",{staticClass:"recent-data__info"},[s("h1",{staticClass:"recent-data__number",class:{"recent-data__number_red":"missed"==e.type}},[t._v(" "+t._s(e.name||e.number))]),s("p",{staticClass:"recent-data__call-type"},[t._v(t._s(t.callTypes[e.type]))])]),s("p",{staticClass:"recent-data__time"},[t._v(t._s(t.getRecentTime(e.time))+" ")])])],1)})):s("p",{staticClass:"phone__info"},[t._v(t._s(t.filtered?"Нет пропущенных":"Нет недавних")+" ")])],2)}),a=[],l=(s("4de4"),s("7db0"),s("4160"),s("b0c0"),s("159b"),s("5530")),r=s("2f62"),o=s("c1df"),d=s.n(o),u={name:"RecentCallsHistory",props:{isEdit:Boolean,filtered:Boolean},data:function(){return{callTypes:{missed:"Пропущенный",incoming:"Входящий",outward:"Исходящий"}}},methods:{deleteRecent:function(t){this.$store.commit("DELETE_RECENT_FROM_CALLS",t.time),this.calls.recent.length||this.$alert.show("Список недавних очищен")},getRecentTime:function(t){return d()(t).format("LT")}},computed:Object(l["a"])(Object(l["a"])({},Object(r["d"])(["calls"])),{},{recentList:function(){var t,e=JSON.parse(JSON.stringify(this.calls.recent)),s=this.calls.contacts;return e.sort((function(t,e){return e.time-t.time})),e.forEach((function(e,n){e.index=n,t=s.find((function(t){return t.number==e.number})),t&&(e.name=t.name)})),this.filtered?e.filter((function(t){return"missed"==t.type})):e}}),created:function(){this.$store.commit("CHECK_ALL_RECENTS")}},_=u,f=s("2877"),h=Object(f["a"])(_,c,a,!1,null,null,null),m=h.exports,p={name:"RecentCalls",components:{RecentItem:m},data:function(){return{switchCalls:[{option:"Все",selected:!0},{option:"Пропущ.",selected:!1}],editor:!1,filtered:!1}},methods:{switchOptions:function(t){this.filtered=!!t,this.switchCalls.map((function(t){return t.selected=!1})),this.switchCalls[t].selected=!0},edit:function(){this.editor=!this.editor}}},C=p,b=(s("a4ff"),Object(f["a"])(C,n,i,!1,null,null,null));e["default"]=b.exports},"519a":function(t,e,s){},a4ff:function(t,e,s){"use strict";var n=s("519a"),i=s.n(n);i.a}}]);
//# sourceMappingURL=chunk-2bb62438.7a54ffdc.js.map